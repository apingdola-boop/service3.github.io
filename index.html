<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš— ê±°ë¦¬ & ìœ ë¥˜ë¹„ ê³„ì‚°ê¸°</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-gradient-1: #0f0c29;
            --bg-gradient-2: #302b63;
            --bg-gradient-3: #24243e;
            --card-bg: rgba(255, 255, 255, 0.05);
            --card-border: rgba(255, 255, 255, 0.1);
            --accent-cyan: #00d4ff;
            --accent-magenta: #ff00d4;
            --accent-yellow: #ffd700;
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --success-green: #00ff88;
            --error-red: #ff4757;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--bg-gradient-1) 0%, var(--bg-gradient-2) 50%, var(--bg-gradient-3) 100%);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .bg-animation::before {
            content: '';
            position: absolute;
            width: 200%;
            height: 200%;
            top: -50%;
            left: -50%;
            background: radial-gradient(circle at 20% 80%, rgba(0, 212, 255, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(255, 0, 212, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(255, 215, 0, 0.1) 0%, transparent 50%);
            animation: bgRotate 30s linear infinite;
        }

        @keyframes bgRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ */
        .sidebar-toggle {
            position: fixed;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1001;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            border: none;
            border-radius: 0 12px 12px 0;
            padding: 15px 10px;
            cursor: pointer;
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        .sidebar-toggle:hover {
            padding-left: 15px;
        }

        .sidebar-toggle.active {
            left: 360px;
        }

        /* ì‚¬ì´ë“œë°” */
        .sidebar {
            position: fixed;
            left: -370px;
            top: 0;
            width: 360px;
            height: 100vh;
            background: rgba(15, 12, 41, 0.98);
            border-right: 1px solid var(--card-border);
            z-index: 1000;
            transition: left 0.3s ease;
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(20px);
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid var(--card-border);
            background: rgba(0, 212, 255, 0.1);
        }

        .sidebar-header h2 {
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .sidebar-search {
            display: flex;
            gap: 10px;
        }

        .sidebar-search input {
            flex: 1;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.95rem;
            font-family: inherit;
        }

        .sidebar-search input:focus {
            outline: none;
            border-color: var(--accent-cyan);
        }

        .sidebar-search input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .sidebar-search button {
            padding: 12px 18px;
            background: var(--accent-cyan);
            border: none;
            border-radius: 10px;
            color: #000;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sidebar-search button:hover {
            background: #00b8e6;
        }

        .sidebar-results {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .sidebar-results::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar-results::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .sidebar-results::-webkit-scrollbar-thumb {
            background: var(--accent-cyan);
            border-radius: 3px;
        }

        .interviewer-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .interviewer-card:hover {
            background: rgba(0, 212, 255, 0.1);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .interviewer-card .id-badge {
            display: inline-block;
            background: var(--accent-magenta);
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .interviewer-card .name {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--accent-cyan);
        }

        .interviewer-card .address {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 12px;
        }

        /* ì¶œë°œì§€/ë„ì°©ì§€ ì„ íƒ ë²„íŠ¼ */
        .destination-buttons {
            display: flex;
            gap: 8px;
        }

        .destination-btn {
            flex: 1;
            padding: 10px 12px;
            border: none;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .destination-btn.start {
            background: rgba(0, 212, 255, 0.2);
            color: var(--accent-cyan);
            border: 1px solid var(--accent-cyan);
        }

        .destination-btn.start:hover {
            background: var(--accent-cyan);
            color: #000;
        }

        .destination-btn.end {
            background: rgba(255, 0, 212, 0.2);
            color: var(--accent-magenta);
            border: 1px solid var(--accent-magenta);
        }

        .destination-btn.end:hover {
            background: var(--accent-magenta);
            color: #fff;
        }

        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-secondary);
        }

        .no-results .icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .result-count {
            padding: 10px 15px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--accent-cyan);
        }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            transition: margin-left 0.3s ease;
        }

        .container.shifted {
            margin-left: calc(360px + (100% - 800px) / 2);
        }

        @media (max-width: 1200px) {
            .container.shifted {
                margin-left: 380px;
            }
        }

        @media (max-width: 800px) {
            .sidebar {
                width: 100%;
                left: -100%;
            }
            .sidebar.open {
                left: 0;
            }
            .sidebar-toggle.active {
                left: calc(100% - 45px);
            }
            .container.shifted {
                margin-left: auto;
            }
        }

        header {
            text-align: center;
            margin-bottom: 50px;
            animation: fadeInDown 0.8s ease-out;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta), var(--accent-yellow));
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
            margin-bottom: 10px;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% center; }
            50% { background-position: 100% center; }
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
            font-weight: 300;
        }

        .card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            animation: fadeInUp 0.8s ease-out;
            animation-fill-mode: backwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-title .icon { font-size: 1.5rem; }

        .input-group { margin-bottom: 20px; }

        .input-group label {
            display: block;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .input-group input {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.2);
        }

        .input-group input::placeholder { color: rgba(255, 255, 255, 0.3); }

        .input-group input.filled-start {
            border-color: var(--accent-cyan);
            background: rgba(0, 212, 255, 0.1);
        }

        .input-group input.filled-end {
            border-color: var(--accent-magenta);
            background: rgba(255, 0, 212, 0.1);
        }

        .waypoint-container { margin: 20px 0; }

        .waypoint-item {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            animation: fadeInUp 0.3s ease-out;
        }

        .waypoint-item input {
            flex: 1;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: inherit;
        }

        .waypoint-item input:focus {
            outline: none;
            border-color: var(--accent-yellow);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .btn-remove-waypoint {
            padding: 15px;
            background: rgba(255, 71, 87, 0.2);
            border: 1px solid var(--error-red);
            border-radius: 12px;
            color: var(--error-red);
            font-size: 1.2rem;
            cursor: pointer;
            min-width: 50px;
        }

        .btn-remove-waypoint:hover { background: rgba(255, 71, 87, 0.4); }

        .btn-add-waypoint {
            width: 100%;
            padding: 12px 20px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px dashed var(--accent-yellow);
            border-radius: 12px;
            color: var(--accent-yellow);
            font-size: 0.95rem;
            font-family: inherit;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-add-waypoint:hover { background: rgba(255, 215, 0, 0.2); }

        .btn {
            width: 100%;
            padding: 18px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 500;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-magenta));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
        }

        .btn:disabled { opacity: 0.6; cursor: not-allowed; }

        .btn .spinner {
            display: none;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin-right: 10px;
        }

        .btn.loading .spinner { display: inline-block; }

        @keyframes spin { to { transform: rotate(360deg); } }

        .results { display: none; }
        .results.show { display: block; animation: fadeInUp 0.5s ease-out; }

        .result-header {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--card-border);
        }

        .route-flow {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 10px;
        }

        .route-point {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.95rem;
        }

        .route-point.start { background: rgba(0, 212, 255, 0.2); border: 1px solid var(--accent-cyan); }
        .route-point.end { background: rgba(255, 0, 212, 0.2); border: 1px solid var(--accent-magenta); }
        .route-point.waypoint { background: rgba(255, 215, 0, 0.2); border: 1px solid var(--accent-yellow); }

        .route-arrow { color: var(--accent-cyan); font-size: 1.2rem; }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        @media (max-width: 500px) { .stats-grid { grid-template-columns: 1fr; } }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover { transform: translateY(-5px); }

        .stat-card.highlight {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.2), rgba(255, 0, 212, 0.2));
            grid-column: span 2;
        }

        @media (max-width: 500px) { .stat-card.highlight { grid-column: span 1; } }

        .stat-icon { font-size: 2rem; margin-bottom: 10px; }

        .stat-value {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-cyan);
            margin-bottom: 5px;
        }

        .stat-card.highlight .stat-value {
            font-size: 2.2rem;
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-magenta));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label { font-size: 0.85rem; color: var(--text-secondary); }

        .error-message {
            display: none;
            background: rgba(255, 71, 87, 0.15);
            border: 1px solid var(--error-red);
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 20px;
            color: var(--error-red);
        }

        .error-message.show { display: flex; align-items: center; gap: 10px; }

        .kakao-link {
            display: inline-block;
            margin-top: 20px;
            padding: 12px 24px;
            background: #FEE500;
            color: #000;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .kakao-link:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(254, 229, 0, 0.4); }

        .info-note {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.9rem;
            color: var(--success-green);
        }

        footer {
            text-align: center;
            padding: 30px;
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        footer a { color: var(--accent-cyan); text-decoration: none; }

        /* ì„ íƒ ì•Œë¦¼ í† ìŠ¤íŠ¸ */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--success-green);
            color: #000;
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 500;
            z-index: 2000;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast.toast-start {
            background: var(--accent-cyan);
        }

        .toast.toast-end {
            background: var(--accent-magenta);
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <!-- ì‚¬ì´ë“œë°” í† ê¸€ ë²„íŠ¼ -->
    <button class="sidebar-toggle" id="sidebar-toggle" onclick="toggleSidebar()">
        ğŸ‘¤ ë©´ì ‘ì› ê²€ìƒ‰
    </button>

    <!-- ì‚¬ì´ë“œë°” -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>ğŸ‘¤ ë©´ì ‘ì› ê²€ìƒ‰</h2>
            <div class="sidebar-search">
                <input type="text" id="interviewer-search" placeholder="ID ë˜ëŠ” ì´ë¦„ ê²€ìƒ‰" onkeyup="searchInterviewer(event)">
                <button onclick="searchInterviewer()">ê²€ìƒ‰</button>
            </div>
        </div>
        <div class="sidebar-results" id="sidebar-results">
            <div class="no-results">
                <div class="icon">ğŸ”</div>
                <p>ë©´ì ‘ì› ID ë˜ëŠ” ì´ë¦„ì„ ê²€ìƒ‰í•˜ì„¸ìš”</p>
                <p style="font-size: 0.85rem; margin-top: 10px;">ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì¶œë°œì§€ ë˜ëŠ”<br>ë„ì°©ì§€ ë²„íŠ¼ì„ ì„ íƒí•˜ì„¸ìš”.</p>
            </div>
        </div>
    </aside>

    <!-- í† ìŠ¤íŠ¸ ì•Œë¦¼ -->
    <div class="toast" id="toast"></div>

    <div class="container" id="main-container">
        <header>
            <h1 class="logo">ğŸš— ROUTE CALC</h1>
            <p class="subtitle">ì¹´ì¹´ì˜¤ API ê¸°ë°˜ ì‹¤ì œ ê²½ë¡œ ê±°ë¦¬ & ìœ ë¥˜ë¹„ ê³„ì‚°ê¸°</p>
        </header>

        <div class="card">
            <h2 class="card-title"><span class="icon">ğŸ“</span> ê²½ë¡œ ì„¤ì •</h2>
            <div class="input-group">
                <label for="start">ì¶œë°œì§€ <span style="color: var(--accent-cyan); font-size: 0.8rem;">(ğŸ‘¤ ë©´ì ‘ì› ê²€ìƒ‰ìœ¼ë¡œ ìë™ ì…ë ¥ ê°€ëŠ¥)</span></label>
                <input type="text" id="start" placeholder="ì˜ˆ: ì„œìš¸ì‹œì²­, ê°•ë‚¨ì—­, ë¶€ì‚° í•´ìš´ëŒ€êµ¬">
            </div>

            <div class="waypoint-container" id="waypoint-container"></div>
            
            <button class="btn-add-waypoint" onclick="addWaypoint()">
                <span>â•</span> ê²½ìœ ì§€ ì¶”ê°€
            </button>

            <div class="input-group" style="margin-top: 20px;">
                <label for="end">ë„ì°©ì§€ <span style="color: var(--accent-magenta); font-size: 0.8rem;">(ğŸ‘¤ ë©´ì ‘ì› ê²€ìƒ‰ìœ¼ë¡œ ìë™ ì…ë ¥ ê°€ëŠ¥)</span></label>
                <input type="text" id="end" placeholder="ì˜ˆ: ì¸ì²œê³µí•­, ëŒ€ì „ì—­, ì œì£¼ì‹œ">
            </div>
        </div>

        <div class="card">
            <h2 class="card-title"><span class="icon">â›½</span> ìœ ë¥˜ë¹„ ì„¤ì •</h2>
                <div class="input-group">
                <label for="cost_per_km">kmë‹¹ ë¹„ìš© (ì›/km)</label>
                <input type="number" id="cost_per_km" value="180" min="50" max="500" step="10">
                <p style="margin-top: 8px; font-size: 0.85rem; color: var(--text-secondary);">
                    ğŸ’¡ ì¼ë°˜ì ìœ¼ë¡œ 100~200ì›/km (íœ˜ë°œìœ  ê¸°ì¤€ ì•½ 130~170ì›/km)
                </p>
            </div>
        </div>

        <div class="error-message" id="error">
            <span>âš ï¸</span>
            <span id="error-text"></span>
        </div>

        <button class="btn btn-primary" id="calculate-btn" onclick="calculate()">
            <span class="spinner"></span>
            <span class="btn-text">ê±°ë¦¬ & ìœ ë¥˜ë¹„ ê³„ì‚°í•˜ê¸°</span>
        </button>

        <div class="results" id="results">
            <div class="card">
                <div class="result-header">
                    <div class="route-flow" id="route-flow"></div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ›£ï¸</div>
                        <div class="stat-value" id="result-distance">-</div>
                        <div class="stat-label">ì‹¤ì œ ë„ë¡œ ê±°ë¦¬</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â±ï¸</div>
                        <div class="stat-value" id="result-duration">-</div>
                        <div class="stat-label">ì˜ˆìƒ ì†Œìš”ì‹œê°„</div>
                    </div>
                    <div class="stat-card highlight">
                        <div class="stat-icon">ğŸ’°</div>
                        <div class="stat-value" id="result-total">-</div>
                        <div class="stat-label">ì˜ˆìƒ ìœ ë¥˜ë¹„</div>
                    </div>
                </div>

                <div style="text-align: center;">
                    <a class="kakao-link" id="kakao-navi-link" href="#" target="_blank">
                        ğŸ—ºï¸ ì¹´ì¹´ì˜¤ë§µì—ì„œ ê²½ë¡œ ë³´ê¸°
                    </a>
                </div>

                <div class="info-note">
                    âœ… ì‹¤ì œ ë„ë¡œ ê²½ë¡œ ê¸°ë°˜ì˜ ì •í™•í•œ ê±°ë¦¬ì…ë‹ˆë‹¤!
                </div>
            </div>
        </div>

        <footer>
            <p>Powered by <a href="https://developers.kakao.com/" target="_blank">Kakao Mobility API</a></p>
        </footer>
    </div>
    
    <script>
        // ì¹´ì¹´ì˜¤ REST API í‚¤
        const KAKAO_REST_API_KEY = '90002fe2ca1129c4281d84a37e00eb43';
        
        // ë©´ì ‘ì› ë°ì´í„° (ìµœì‹ í™”ë¨)
        const INTERVIEWERS = [
            {"id":"39092","name":"ê°•ê²½ì–‘","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ë‚¨êµ¬ ëŒ€ì•”ë¡œ 82"},
            {"id":"29088","name":"ê°•ì„ ì—°","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì¶©ë ¬ëŒ€ë¡œ126ë²ˆê¸¸ 40"},
            {"id":"13334","name":"ê°•ìˆœë•","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì—°ì•ˆë¡œ 74"},
            {"id":"33406","name":"ê°•í˜•í¬","address":"ê²½ìƒë‚¨ë„ ê±°ì œì‹œ ìš©ì†Œ3ê¸¸ 16"},
            {"id":"37725","name":"ê³½ì„±ë¯¸","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ì´ˆëŸ‰ë‚¨ë¡œ 43ë²ˆê¸¸ 7"},
            {"id":"39054","name":"ê¹€ê·€ì","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ìš¸ì£¼êµ° ì–¸ì–‘ì ë°˜ì²œê°•ë³€ê¸¸ 51"},
            {"id":"461","name":"ê¹€ê¸ˆí¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ê¸ˆì •êµ¬ ì¤‘ì•™ëŒ€ë¡œ1667ë²ˆê¸¸ 8"},
            {"id":"16595","name":"ê¹€ê¸°ë ¹","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ê°œê¸ˆë³¸ë™ë¡œ 34"},
            {"id":"3062","name":"ê¹€ë™ì˜ˆ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ê±°ì œì²œë¡œ 10"},
            {"id":"38878","name":"ê¹€ë¯¸ìˆ™","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ëŒ€ì²˜ë†€103ë²ˆê¸¸ 61"},
            {"id":"38754","name":"ê¹€ë¯¸ì• ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì¤‘ì•™ëŒ€ë¡œ 1335ë²ˆê¸¸ 3"},
            {"id":"9186","name":"ê¹€ë¯¸í¬","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ ë‚¨ì™¸ë™"},
            {"id":"521","name":"ê¹€ìˆ˜ì","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì‡ ë¯¸ë¡œ129ë²ˆê¸¸ 62-12"},
            {"id":"38557","name":"ê¹€ìˆœì •","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ë§ˆì² ë¡œ114"},
            {"id":"6178","name":"ê¹€ì˜ë¯¸","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ëŒ€ì²œë¡œ67ë²ˆê¸¸ 7"},
            {"id":"38091","name":"ê¹€ì˜ë¯¸(ì–‘ì‚°)","address":"ê²½ìƒë‚¨ë„ ì–‘ì‚°ì‹œ ì–‘ì£¼ë¡œ33"},
            {"id":"38191","name":"ê¹€ì€ìˆ™","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ê¸°ì¥êµ° ì •ê´€ì ì •ê´€4ë¡œ 24"},
            {"id":"39093","name":"ê¹€ì •ë¯¸","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ë…¹ìˆ˜11ê¸¸ 50"},
            {"id":"12667","name":"ê¹€ì •í™”","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì˜ë„êµ¬ ë‚¨í•­ìƒˆì‹¹ 7ê¸¸ 28"},
            {"id":"38042","name":"ê¹€ì •í¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ í•˜ì‹ ë²ˆì˜ë¡œ365"},
            {"id":"37888","name":"ê¹€ì¢…ê±´","address":"ê²½ìƒë‚¨ë„ ê¹€í•´ì‹œ êµ¬ì§€ë¡œ 63"},
            {"id":"17245","name":"ê¹€ì£¼ì˜ˆ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ê°ì²œë¡œ 32"},
            {"id":"39091","name":"ê¹€ì§€ìš°","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì„¼í…€ë™ë¡œ 9"},
            {"id":"34815","name":"ê¹€ì¶˜í•˜","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì œì„ë¡œ 79ë²ˆê¸¸"},
            {"id":"39123","name":"ê¹€í˜œë¦¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì¬ë°˜ë¡œ 141"},
            {"id":"10156","name":"ë¬¸ì˜ì„ ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì‚¼ì–´ë¡œ 133ë²ˆë‚˜ê¸¸ 18"},
            {"id":"20737","name":"ë°•ë§ì","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì—°ì œêµ¬ ì•„ì‹œì•„ë“œëŒ€ë¡œ 39"},
            {"id":"38381","name":"ë°•ë¯¸ì—°","address":"ê²½ìƒë‚¨ë„ ê¹€í•´ì‹œ ë¶„ì„±ë¡œ134ë²ˆê¸¸7"},
            {"id":"29755","name":"ë°•ì„ ì","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì˜ë„êµ¬ ì²­í•™ë‚¨ë¡œ 10-1"},
            {"id":"39089","name":"ë°•ì„±í˜¸","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ìˆ˜ì˜êµ¬ ê´‘ì•ˆë™ 1068-6"},
            {"id":"37155","name":"ë°•ì—°ìˆ™","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶êµ¬ ë•ì²œë™ í•¨ë°•ë´‰ë¡œ 26"},
            {"id":"38996","name":"ë°•ì •ì—¬","address":"ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ ì„±ì‚°êµ¬ ì‚¼ì •ìë¡œ 79"},
            {"id":"17908","name":"ë°•ì£¼ì˜","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì˜¤ì‘ë¡œ 152"},
            {"id":"38376","name":"ë°•í˜œë¯¸","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ê°•ì„œêµ¬ ì‹ í˜¸ì‚°ë‹¨5ë¡œ 31"},
            {"id":"38377","name":"ë°°ì •ì˜","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì˜ë„êµ¬ ì¼ì‚°ë´‰ë¡œ 36-1"},
            {"id":"34687","name":"ì„œë¯¸ìˆ™","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì—°ì œêµ¬ ê±°ì œì²œë¡œ136ë²ˆê¸¸ 7-1"},
            {"id":"151","name":"ì„ê²½ì• ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ë²”ì¼ë¡œ 21"},
            {"id":"38501","name":"ì„±í˜„ì£¼","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ í‰ë™3ê¸¸ 2"},
            {"id":"38886","name":"ì†¡ì¬í˜","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ë‹¬ë§ì´ê¸¸ 65ë²ˆê¸¸ 61"},
            {"id":"31308","name":"ì‹ ì˜ˆì›","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì¶©ë ¬ëŒ€ë¡œ 114"},
            {"id":"12621","name":"ì‹¬ë¯¸ê²½","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë‚¨êµ¬ ì§„ë‚¨ë¡œ64ë²ˆê¸¸ 29"},
            {"id":"39128","name":"ì–‘ë‹¨ë¹„","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ë‹¤ì†¡ë¡œ 23 106ë™ 1402í˜¸"},
            {"id":"38997","name":"ì–‘í˜„ì","address":"ê²½ìƒë‚¨ë„ ê±°ì œì‹œ ì—°ì´ˆë©´ ë°©ê³¡ê¸¸14"},
            {"id":"39076","name":"ì—¬ë¯¸í™”","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ì´ˆëŸ‰ì¤‘ë¡œ 114"},
            {"id":"39090","name":"ì˜¤ê¸°ì„","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ì¼ì‚°ë™"},
            {"id":"38397","name":"ìœ ê²½ì˜¥","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì„œêµ¬ ëŒ€ì˜ë¡œ27ë²ˆê¸¸26-18"},
            {"id":"4943","name":"ìœ ì¬ì„","address":"ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ ì„±ì‚°êµ¬ ìƒë‚¨ë¡œ216ë²ˆê¸¸ 7-1"},
            {"id":"34591","name":"ìœ ì •ì„ ","address":"ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ ì„±ì‚°êµ¬ ì›ì´ëŒ€ë¡œ 449"},
            {"id":"29132","name":"ìœ¤ì •í¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ ì˜ì£¼ë¡œ 73"},
            {"id":"29290","name":"ìœ¤ì§„ì•„","address":"ê²½ìƒë‚¨ë„ ì–‘ì‚°ì‹œ ë™ë©´ ì™¸ì†¡ë¡œ 30"},
            {"id":"30199","name":"ì´ê²½ë‚¨","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì‡ ë¯¸ë¡œ17ë²ˆê¸¸ 3"},
            {"id":"38937","name":"ì´ê²½í¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ì‹ ì²œëŒ€ë¡œ197ë²ˆê¸¸ 15"},
            {"id":"38222","name":"ì´ë‚˜êµ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ í•˜ì‹ ì¤‘ì•™ë¡œ170"},
            {"id":"38922","name":"ì´ìˆ™ë…€","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ì—°ì•ˆë¡œ 74"},
            {"id":"39127","name":"ì´ì˜í˜","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ë™í‰ë¡œ 352"},
            {"id":"38581","name":"ì´ìœ ì§„","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ í•´ìš´ëŒ€ë¡œ 284"},
            {"id":"9895","name":"ì´ìœ¤ì£¼","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë‚¨êµ¬ ì‹ ì„ ë¡œ 165"},
            {"id":"30212","name":"ì´ì€ê²½","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™ë˜êµ¬ ëª…ì¥ë¡œ63ë²ˆë‹¤ê¸¸ 6"},
            {"id":"36317","name":"ì´ì€ì£¼","address":"ê²½ìƒë‚¨ë„ ê¹€í•´ì‹œ ì¥ìœ ë¡œ 288ë²ˆê¸¸ 15"},
            {"id":"38877","name":"ì´ì •ë¯¸","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì¤‘ë™2ë¡œ34ë²ˆê¸¸ 29"},
            {"id":"38755","name":"ì´ì •ì• ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë‚¨êµ¬ ë™ëª…ë¡œ 202"},
            {"id":"39088","name":"ì´ì§„ì˜","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ìˆ˜ì˜êµ¬ ë§ë¯¸ë°°ì‚°ë¡œ 10ë²ˆê¸¸ 69-6"},
            {"id":"9185","name":"ì´íƒœìˆ™","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ ë‚¨ì™¸ë™"},
            {"id":"38757","name":"ì´í˜œì§„","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ë°©ì–´ì§„ìˆœí™˜ë„ë¡œ 497"},
            {"id":"37751","name":"ì¸ì§€ì—°","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì•„ë«ë°˜ì†¡ë¡œ 21ë²ˆê¸¸ 23-28"},
            {"id":"28824","name":"ì„ì˜í¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë¶êµ¬ í™”ëª…ì‹ ë„ì‹œë¡œ 244"},
            {"id":"38758","name":"ì •ê²½ì˜¥","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ í‰ë™3ê¸¸ 2"},
            {"id":"702","name":"ì •ì„±ì• ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ëŒ€í‹°ë¡œ 17ë²ˆê¸¸ 47"},
            {"id":"38443","name":"ì •ì—°ìˆ™","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì˜¤ì‘ë¡œ 81"},
            {"id":"36497","name":"ì£¼ì„±í¬","address":"ê²½ìƒë‚¨ë„ ì–‘ì‚°ì‹œ ë™ë©´ ë‚´ì†¡í°ë“¤ë¡œ 84"},
            {"id":"39113","name":"ì£¼ì˜ˆì†”","address":"ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì†¡ì •ë™ 173-7"},
            {"id":"39105","name":"ì£¼ì´ê²½","address":"ê²½ìƒë‚¨ë„ ê¹€í•´ì‹œ ìœ¨í•˜2ë¡œ 222ë²ˆê¸¸ 9-9"},
            {"id":"38661","name":"ì²œí˜„í¬","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì¥ë¦¼ë™ ì¥ë¦¼ë²ˆì˜ë¡œ 53"},
            {"id":"38753","name":"ìµœí¬ì•¼","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì¥í‰ë¡œ 87"},
            {"id":"38060","name":"í•˜ê²½ìˆ™","address":"ìš¸ì‚°ê´‘ì—­ì‹œ ì¤‘êµ¬ ë³µì‚°ë™ 36-11"},
            {"id":"5808","name":"í•œìˆ™ì","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì—°ì œêµ¬ ê±°ì œëŒ€ë¡œ214ë²ˆê¸¸ 6"},
            {"id":"38940","name":"í•œì• ê²½","address":"ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ ì§„í•´êµ¬ ëƒ‰ì²œë¡œ 262"},
            {"id":"30213","name":"í•œì€í¬","address":"ê²½ìƒë‚¨ë„ ì°½ì›ì‹œ ì„±ì‚°êµ¬ ëŒ€ì •ë¡œ40ë²ˆê¸¸ 7"},
            {"id":"38545","name":"í•œì •ì• ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì‚¬í•˜ë¡œ178"},
            {"id":"8507","name":"í˜„ê·œë¯¸","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ë™êµ¬ ë²”ì¼ë¡œ 41"},
            {"id":"2716","name":"í™ì„±ìˆœ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì„œêµ¬ ê½ƒë§ˆì„ë¡œ 57"},
            {"id":"23116","name":"í™ìˆ™í˜„","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì‚¬í•˜êµ¬ ì„œí¬ë¡œ30ë²ˆê¸¸ 12"},
            {"id":"38756","name":"í™ì¸í˜œ","address":"ë¶€ì‚°ê´‘ì—­ì‹œ ì—°ì œêµ¬ ê±°ì œë™ 228-23ë²ˆì§€"}
        ];

        let waypointCount = 0;

        // ì‚¬ì´ë“œë°” í† ê¸€
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const toggle = document.getElementById('sidebar-toggle');
            const container = document.getElementById('main-container');
            
            sidebar.classList.toggle('open');
            toggle.classList.toggle('active');
            container.classList.toggle('shifted');
        }

        // ë©´ì ‘ì› ê²€ìƒ‰
        function searchInterviewer(event) {
            if (event && event.key && event.key !== 'Enter') return;
            
            const query = document.getElementById('interviewer-search').value.trim().toLowerCase();
            const resultsContainer = document.getElementById('sidebar-results');
            
            if (!query) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <div class="icon">ğŸ”</div>
                        <p>ë©´ì ‘ì› ID ë˜ëŠ” ì´ë¦„ì„ ê²€ìƒ‰í•˜ì„¸ìš”</p>
                        <p style="font-size: 0.85rem; margin-top: 10px;">ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì¶œë°œì§€ ë˜ëŠ”<br>ë„ì°©ì§€ ë²„íŠ¼ì„ ì„ íƒí•˜ì„¸ìš”.</p>
                    </div>
                `;
                return;
            }
            
            const results = INTERVIEWERS.filter(interviewer => 
                interviewer.id.includes(query) || 
                interviewer.name.toLowerCase().includes(query)
            );
            
            if (results.length === 0) {
                resultsContainer.innerHTML = `
                    <div class="no-results">
                        <div class="icon">ğŸ˜¢</div>
                        <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                        <p style="font-size: 0.85rem; margin-top: 10px;">"${query}"ì— í•´ë‹¹í•˜ëŠ”<br>ë©´ì ‘ì›ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
                    </div>
                `;
                return;
            }
            
            resultsContainer.innerHTML = `
                <div class="result-count">ğŸ¯ ${results.length}ëª…ì˜ ë©´ì ‘ì›ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤</div>
                ${results.map(interviewer => `
                    <div class="interviewer-card">
                        <span class="id-badge">ID: ${interviewer.id}</span>
                        <div class="name">${interviewer.name}</div>
                        <div class="address">${interviewer.address}</div>
                        <div class="destination-buttons">
                            <button class="destination-btn start" onclick="selectInterviewer('${interviewer.address.replace(/'/g, "\\'")}', '${interviewer.name}', 'start')">
                                ğŸ“ ì¶œë°œì§€
                            </button>
                            <button class="destination-btn end" onclick="selectInterviewer('${interviewer.address.replace(/'/g, "\\'")}', '${interviewer.name}', 'end')">
                                ğŸ ë„ì°©ì§€
                            </button>
                        </div>
                    </div>
                `).join('')}
            `;
        }

        // ë©´ì ‘ì› ì„ íƒ ì‹œ ì¶œë°œì§€ ë˜ëŠ” ë„ì°©ì§€ì— ì£¼ì†Œ ì…ë ¥
        function selectInterviewer(address, name, type) {
            const inputId = type === 'start' ? 'start' : 'end';
            const input = document.getElementById(inputId);
            const typeName = type === 'start' ? 'ì¶œë°œì§€' : 'ë„ì°©ì§€';
            
            // ê¸°ì¡´ ê°•ì¡° íš¨ê³¼ ì œê±°
            document.getElementById('start').classList.remove('filled-start', 'filled-end');
            document.getElementById('end').classList.remove('filled-start', 'filled-end');
            
            // ì£¼ì†Œ ì…ë ¥ ë° ê°•ì¡° íš¨ê³¼
            input.value = address;
            input.classList.add(type === 'start' ? 'filled-start' : 'filled-end');
            
            // í† ìŠ¤íŠ¸ ì•Œë¦¼ í‘œì‹œ
            showToast(`âœ… ${name}ë‹˜ì˜ ì£¼ì†Œê°€ ${typeName}ì— ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤!`, type);
            
            // ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ë‹«ê¸°
            if (window.innerWidth <= 800) {
                toggleSidebar();
            }
            
            // ì ì‹œ í›„ ê°•ì¡° íš¨ê³¼ ì œê±°
            setTimeout(() => {
                input.classList.remove('filled-start', 'filled-end');
            }, 3000);
        }

        // í† ìŠ¤íŠ¸ ì•Œë¦¼
        function showToast(message, type) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast';
            toast.classList.add('show');
            if (type === 'start') toast.classList.add('toast-start');
            if (type === 'end') toast.classList.add('toast-end');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ê²½ìœ ì§€ ì¶”ê°€
        function addWaypoint() {
            waypointCount++;
            const container = document.getElementById('waypoint-container');
            const div = document.createElement('div');
            div.className = 'waypoint-item';
            div.id = `waypoint-${waypointCount}`;
            div.innerHTML = `
                <input type="text" placeholder="ê²½ìœ ì§€ ${waypointCount}" class="waypoint-input">
                <button class="btn-remove-waypoint" onclick="removeWaypoint(${waypointCount})">âœ•</button>
            `;
            container.appendChild(div);
        }

        // ê²½ìœ ì§€ ì‚­ì œ
        function removeWaypoint(id) {
            document.getElementById(`waypoint-${id}`)?.remove();
        }

        // ëª¨ë“  ê²½ìœ ì§€ ê°€ì ¸ì˜¤ê¸°
        function getWaypoints() {
            return Array.from(document.querySelectorAll('.waypoint-input'))
                .map(input => input.value.trim())
                .filter(v => v);
        }

        // ì¹´ì¹´ì˜¤ REST APIë¡œ ì£¼ì†Œ ê²€ìƒ‰
        async function searchAddress(query) {
            const url = `https://dapi.kakao.com/v2/local/search/keyword.json?query=${encodeURIComponent(query)}`;
            const response = await fetch(url, {
                headers: { 'Authorization': `KakaoAK ${KAKAO_REST_API_KEY}` }
            });
            
            if (!response.ok) {
                throw new Error(`ì£¼ì†Œ ê²€ìƒ‰ ì‹¤íŒ¨: ${query}`);
            }
            
            const data = await response.json();
            if (data.documents && data.documents.length > 0) {
                const place = data.documents[0];
                return {
                    name: place.place_name,
                    x: place.x,
                    y: place.y
                };
            }
            throw new Error(`ì£¼ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${query}`);
        }

        // ì¹´ì¹´ì˜¤ ëª¨ë¹Œë¦¬í‹° APIë¡œ ê²½ë¡œ íƒìƒ‰
        async function getRoute(origin, destination, waypoints = []) {
            let url = `https://apis-navi.kakaomobility.com/v1/directions?origin=${origin.x},${origin.y}&destination=${destination.x},${destination.y}`;
            
            if (waypoints.length > 0) {
                const waypointStr = waypoints.map(w => `${w.x},${w.y}`).join('|');
                url += `&waypoints=${waypointStr}`;
            }
            
            const response = await fetch(url, {
                headers: { 'Authorization': `KakaoAK ${KAKAO_REST_API_KEY}` }
            });
            
            if (!response.ok) {
                const errorData = await response.json().catch(() => ({}));
                throw new Error(errorData.message || 'ê²½ë¡œ íƒìƒ‰ ì‹¤íŒ¨');
            }
            
            const data = await response.json();
            
            if (data.routes && data.routes.length > 0 && data.routes[0].result_code === 0) {
                const route = data.routes[0];
                return {
                    distance: route.summary.distance, // ë¯¸í„°
                    duration: route.summary.duration  // ì´ˆ
                };
            }
            
            throw new Error('ê²½ë¡œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }

        // ì‹œê°„ í¬ë§·íŒ…
        function formatDuration(seconds) {
            const hours = Math.floor(seconds / 3600);
            const minutes = Math.floor((seconds % 3600) / 60);
            
            if (hours > 0) {
                return `${hours}ì‹œê°„ ${minutes}ë¶„`;
            }
            return `${minutes}ë¶„`;
        }

        // ê³„ì‚° ì‹¤í–‰
        async function calculate() {
            const btn = document.getElementById('calculate-btn');
            const errorEl = document.getElementById('error');
            const resultsEl = document.getElementById('results');
            
            const startInput = document.getElementById('start').value.trim();
            const endInput = document.getElementById('end').value.trim();
            const waypoints = getWaypoints();
            const costPerKm = parseFloat(document.getElementById('cost_per_km').value) || 180;

            if (!startInput || !endInput) {
                showError('ì¶œë°œì§€ì™€ ë„ì°©ì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            btn.classList.add('loading');
            btn.disabled = true;
            errorEl.classList.remove('show');
            resultsEl.classList.remove('show');

            try {
                // ëª¨ë“  ì£¼ì†Œ ê²€ìƒ‰
                const allAddresses = [startInput, ...waypoints, endInput];
                const coords = await Promise.all(allAddresses.map(addr => searchAddress(addr)));
                
                // ê²½ë¡œ íƒìƒ‰
                const origin = coords[0];
                const destination = coords[coords.length - 1];
                const waypointCoords = coords.slice(1, -1);
                
                const route = await getRoute(origin, destination, waypointCoords);
                
                // ê±°ë¦¬ (ë¯¸í„° â†’ km)
                const distanceKm = route.distance / 1000;
                
                // ìœ ë¥˜ë¹„ ê³„ì‚°
                const totalCost = distanceKm * costPerKm;

                // ê²½ë¡œ í‘œì‹œ
                const routeFlow = document.getElementById('route-flow');
                routeFlow.innerHTML = '';
                
                coords.forEach((coord, index) => {
                    if (index > 0) {
                        routeFlow.innerHTML += '<span class="route-arrow">â†’</span>';
                    }
                    
                    let pointClass = 'route-point';
                    if (index === 0) pointClass += ' start';
                    else if (index === coords.length - 1) pointClass += ' end';
                    else pointClass += ' waypoint';
                    
                    routeFlow.innerHTML += `<span class="${pointClass}">${coord.name}</span>`;
                });

                // ê²°ê³¼ í‘œì‹œ
                document.getElementById('result-distance').textContent = distanceKm.toFixed(1) + ' km';
                document.getElementById('result-duration').textContent = formatDuration(route.duration);
                document.getElementById('result-total').textContent = Math.round(totalCost).toLocaleString() + ' ì›';

                // ì¹´ì¹´ì˜¤ë§µ ê¸¸ì°¾ê¸° ë§í¬
                const kakaoNaviUrl = `https://map.kakao.com/?sName=${encodeURIComponent(startInput)}&eName=${encodeURIComponent(endInput)}`;
                document.getElementById('kakao-navi-link').href = kakaoNaviUrl;

                resultsEl.classList.add('show');
                resultsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });

            } catch (error) {
                console.error('Error:', error);
                showError(error.message);
            } finally {
                btn.classList.remove('loading');
                btn.disabled = false;
            }
        }

        function showError(message) {
            const errorEl = document.getElementById('error');
            document.getElementById('error-text').textContent = message;
            errorEl.classList.add('show');
        }

        // ì—”í„°í‚¤ë¡œ ê²€ìƒ‰
        document.getElementById('start').addEventListener('keypress', e => {
            if (e.key === 'Enter') document.getElementById('end').focus();
        });

        document.getElementById('end').addEventListener('keypress', e => {
            if (e.key === 'Enter') calculate();
        });
    </script>
</body>
</html>
